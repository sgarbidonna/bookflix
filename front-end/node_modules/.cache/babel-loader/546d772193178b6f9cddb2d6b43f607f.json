{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bookflix\\\\bookflix\\\\front-end\\\\src\\\\components\\\\VistaAdmin\\\\Autores\\\\AutoresCRUD.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport NavegacionAdmin from '../NavegacionAdmin';\nconst getAutores = 'http://localhost:4000/api/autores/';\nconst cargar = 'http://localhost:4000/api/autores/cargar';\nconst borrar = 'http://localhost:4000/api/autores/eliminar/';\nconst modificar = 'http://localhost:4000/api/autores/modificar/';\n\nclass Autor extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.agregarAutor = async e => {\n      e.preventDefault();\n      await axios.post(cargar, {\n        nombre: this.state.nombre,\n        apellido: this.state.apellido\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        alert('Se cargó un autor');\n        this.getData();\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.onInputChange2 = e => {\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.eliminarAutor = async e => {\n      e.preventDefault();\n      await axios.post(borrar, {\n        id: this.state.id\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        alert('Autor eliminado');\n        this.getData();\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.onInputChange3 = e => {\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.modificarAutor = async e => {\n      e.preventDefault();\n      await axios.post(modificar, {\n        id: this.state.id,\n        nombre: this.state.nombre,\n        apellido: this.state.apellido\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.getData();\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.state = {\n      user: JSON.parse(sessionStorage.getItem('user')),\n      token: sessionStorage.getItem('token'),\n      autores: [],\n      nombre: '',\n      apellido: '',\n      id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.agregarAutor = this.agregarAutor.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.eliminarAutor = this.eliminarAutor.bind(this);\n    this.modificarAutor = this.modificarAutor.bind(this);\n  }\n\n  async getData() {\n    await axios.get(getAutores, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(res => {\n      this.setState({\n        autores: res.data\n      });\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  async componentDidMount() {\n    await this.getData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavegacionAdmin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.agregarAutor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 33\n      }\n    }, \"Ingrese Nombre y Apellido\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Nombre\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"apellido\",\n      name: \"apellido\",\n      value: this.state.apellido,\n      onChange: this.handleChange,\n      placeholder: \"Apellido\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 33\n      }\n    }, \" Agregar Autor/a \")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.eliminarAutor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange2,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    }, \"Seleccione un autor/a para eliminar\"), this.state.autores.map(a => /*#__PURE__*/React.createElement(\"option\", {\n      key: a.id,\n      value: a._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 37\n      }\n    }, a.nombre, \" \", a.apellido)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, \" Eliminar Autor/a \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.modificarAutor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      required: true,\n      className: \"form-control\",\n      onChange: this.onInputChange3,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 29\n      }\n    }, \"Seleccione un/a Autor/a para editar\"), this.state.autores.map(a => /*#__PURE__*/React.createElement(\"option\", {\n      key: a.id,\n      value: a._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 37\n      }\n    }, a.nombre, \" \", a.apellido))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }, \"Ingrese los nuevos datos\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Nombre\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"apellido\",\n      name: \"apellido\",\n      value: this.state.apellido,\n      onChange: this.handleChange,\n      placeholder: \"Apellido\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 29\n      }\n    }, \"Actualizar Autor/a\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }, this.state.autores.map(a => /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card col-md-6 offset-md-3 text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"card-title\",\n      onChange: this.onInputChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 33\n      }\n    }, a.nombre, \" \", a.apellido)))))));\n  }\n\n}\n\nexport default Autor;","map":{"version":3,"sources":["D:/Documentos/GitHub/bookflix/bookflix/front-end/src/components/VistaAdmin/Autores/AutoresCRUD.js"],"names":["React","Component","axios","NavegacionAdmin","getAutores","cargar","borrar","modificar","Autor","constructor","handleChange","e","setState","target","name","value","onInputChange","agregarAutor","preventDefault","post","nombre","state","apellido","headers","token","then","res","alert","getData","catch","err","onInputChange2","id","eliminarAutor","onInputChange3","modificarAutor","user","JSON","parse","sessionStorage","getItem","autores","bind","get","data","componentDidMount","render","map","a","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport NavegacionAdmin from '../NavegacionAdmin'\r\n\r\nconst getAutores = 'http://localhost:4000/api/autores/';\r\nconst cargar = 'http://localhost:4000/api/autores/cargar';\r\nconst borrar = 'http://localhost:4000/api/autores/eliminar/';\r\nconst modificar = 'http://localhost:4000/api/autores/modificar/';\r\n\r\n\r\nclass Autor extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            user: JSON.parse(sessionStorage.getItem('user')),\r\n            token: sessionStorage.getItem('token'),\r\n            \r\n            autores: [],\r\n            nombre: '',\r\n            apellido:'',\r\n            id: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.agregarAutor = this.agregarAutor.bind(this);\r\n        this.onInputChange = this.onInputChange.bind(this);\r\n        this.eliminarAutor = this.eliminarAutor.bind(this);\r\n        this.modificarAutor = this.modificarAutor.bind(this);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    };\r\n\r\n    agregarAutor = async (e) => {\r\n        e.preventDefault();\r\n\r\n        await axios.post(cargar,\r\n            { nombre: this.state.nombre,\r\n            apellido: this.state.apellido },\r\n            { headers: { 'xaccess': this.state.token } }\r\n\r\n        ).then(res => {\r\n            alert('Se cargó un autor');\r\n            this.getData()\r\n        })\r\n\r\n        .catch(err => {\r\n            alert(err)\r\n        } );\r\n\r\n    };\r\n\r\n    async getData() {\r\n        await axios.get(getAutores, \r\n            { headers: { 'xaccess': this.state.token }\r\n        })\r\n            .then(res => {\r\n                this.setState({\r\n                    autores: res.data\r\n                });\r\n            })\r\n            .catch(err => {\r\n                alert(err)\r\n            });\r\n\r\n    }\r\n    async componentDidMount() {\r\n        await this.getData();\r\n    };\r\n\r\n    onInputChange2 = (e) => {\r\n       this.setState({\r\n            id: e.target.value\r\n        });\r\n    };\r\n\r\n    eliminarAutor = async (e) => {\r\n        e.preventDefault();\r\n\r\n        await axios.post(borrar ,\r\n            { id: this.state.id },\r\n            { headers: { 'xaccess': this.state.token } }\r\n\r\n        ).then(res => {\r\n            alert('Autor eliminado');\r\n            this.getData();\r\n        })\r\n            .catch(err => {\r\n                alert(err)\r\n        });\r\n    };\r\n\r\n    onInputChange3 = (e) => {\r\n        this.setState({\r\n            id: e.target.value\r\n        });\r\n    };\r\n\r\n    modificarAutor = async (e) => {\r\n        e.preventDefault();\r\n\r\n        await axios.post(modificar,\r\n            { id: this.state.id,\r\n            nombre: this.state.nombre,\r\n            apellido: this.state.apellido},\r\n            { headers: { 'xaccess': this.state.token } }\r\n\r\n        ).then(res => {\r\n            this.getData()\r\n        })\r\n        .catch(err => {\r\n            alert(err)\r\n        });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div><NavegacionAdmin/>\r\n            <div className=\"row\">\r\n                \r\n                <div className=\"form-autor\" >\r\n                <div className=\"form-input-field col s5 bg-dark\">\r\n                <div className=\"card card-body text-light bg-dark\">\r\n                    <form onSubmit={this.agregarAutor} >\r\n\r\n                        <div className=\"col s5\">\r\n                            <div className=\"form-input-field col s5 bg-dark\">\r\n                                <label className=\"text-light\">Ingrese Nombre y Apellido</label>\r\n                                <input className=\"form-control col s12\"\r\n                                    id=\"nombre\"\r\n                                    name=\"nombre\"\r\n                                    value={this.state.nombre}\r\n                                    onChange={this.handleChange}\r\n                                    placeholder=\"Nombre\"\r\n                                    required>\r\n                                </input>\r\n                                \r\n                                <input className=\"form-control col s12\"\r\n                                    id=\"apellido\"\r\n                                    name=\"apellido\"\r\n                                    value={this.state.apellido}\r\n                                    onChange={this.handleChange}\r\n                                    placeholder=\"Apellido\"\r\n                                    required>\r\n                                </input>\r\n\r\n                                <button type=\"submit\" className=\"btn btn-success \" > Agregar Autor/a </button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                </div>\r\n               \r\n\r\n                \r\n                <div className=\"form-input-field col s5 bg-dark\">\r\n                <div className=\"card card-body text-light bg-dark\">\r\n\r\n                    <form onSubmit={this.eliminarAutor}>\r\n                        <div className=\"form-group\">\r\n                            \r\n                            <select className=\"form-control\" onChange={this.onInputChange2} id=\"exampleFormControlSelect1\" name=\"editorial\">\r\n                            <option selected>Seleccione un autor/a para eliminar</option>\r\n                                {this.state.autores.map(a =>\r\n                                    <option key={a.id} value={a._id} >{a.nombre} {a.apellido}</option>\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btn btn-success\" > Eliminar Autor/a </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                </div>\r\n                \r\n\r\n\r\n                \r\n                <div className=\"form-input-field col s5 bg-dark\">\r\n                <div className=\"card card-body text-light bg-dark\">\r\n\r\n                    <form onSubmit={this.modificarAutor}>\r\n\r\n                        <div className=\"form-group\">\r\n                           \r\n                            <select required className=\"form-control\" onChange={this.onInputChange3} id=\"exampleFormControlSelect1\" name=\"editorial\">\r\n                            <option selected>Seleccione un/a Autor/a para editar</option>\r\n                                {this.state.autores.map(a =>\r\n                                    <option key={a.id} value={a._id} >{a.nombre} {a.apellido}</option>\r\n                                )}\r\n                            </select>\r\n                            <label className=\"text-light\">Ingrese los nuevos datos</label>\r\n                            <input className=\"form-control col s12\"\r\n                                    id=\"nombre\"\r\n                                    name=\"nombre\"\r\n                                    value={this.state.nombre}\r\n                                    onChange={this.handleChange}\r\n                                    placeholder=\"Nombre\"\r\n                                    required>\r\n                                </input>\r\n                                <input className=\"form-control col s12\"\r\n                                    id=\"apellido\"\r\n                                    name=\"apellido\"\r\n                                    value={this.state.apellido}\r\n                                    onChange={this.handleChange}\r\n                                    placeholder=\"Apellido\"\r\n                                    required>\r\n                                </input>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btn btn-success\" >\r\n                                Actualizar Autor/a\r\n                            </button>\r\n                        </div>\r\n\r\n\r\n                    </form>\r\n                </div>\r\n                \r\n                </div>\r\n\r\n\r\n                </div>\r\n\r\n\r\n                <div className=\"col-md-8\">\r\n                    {this.state.autores.map(a =>\r\n                        <div class=\"card col-md-6 offset-md-3 text-light bg-dark\" >\r\n                            <div class=\"card-body\">\r\n                    \r\n                                <h5 class=\"card-title\" onChange={this.onInputChange2} >{a.nombre} {a.apellido}</h5>\r\n                    \r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Autor;"]},"metadata":{},"sourceType":"module"}