{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bookflix\\\\bookflix\\\\front-end\\\\src\\\\components\\\\VistaAdmin\\\\Generos\\\\GeneroCRUD.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; //Probando git 2\n//Probanco cambiosd de git\n\nconst generos = 'http://localhost:4000/api/generos/';\nconst cargar = 'http://localhost:4000/api/generos/cargar';\nconst borrar = 'http://localhost:4000/api/generos/eliminar/';\nconst modificar = 'http://localhost:4000/api/generos/modificar/';\n\nclass Generos extends Component {\n  constructor() {\n    super();\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.agregarGenero = async e => {\n      e.preventDefault();\n      console.log(this.state.nombre);\n      console.log(this.state.token);\n      await axios.post(cargar, {\n        nombre: this.state.nombre\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        console.log('se cargo un genero');\n        alert(res);\n        this.getData();\n      }).catch(err => {\n        console.log('error en cargar genero');\n        alert(err);\n      });\n    };\n\n    this.getData = async () => {\n      const {\n        user\n      } = this.state.user;\n      await axios.get(generos, {\n        user: user,\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.setGeneros(res.data);\n      }).catch(err => {\n        console.log('lista de generos');\n        console.log(err.response);\n      });\n    };\n\n    this.onInputChange2 = e => {\n      console.log('input', e.target.value);\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.eliminarGenero = async e => {\n      e.preventDefault();\n      await axios.post(borrar, {\n        id: this.state.id\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        console.log('se elimino el genero');\n        console.log(res);\n        this.getData();\n      }).catch(err => {\n        console.log('error en borrar genero');\n        console.log(err);\n      });\n    };\n\n    this.onInputChange3 = e => {\n      console.log('input', e.target.value);\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.modificarGenero = async e => {\n      e.preventDefault();\n      await axios.post(modificar, {\n        nombre: this.state.nombre,\n        id: this.state.id\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        alert(res);\n        this.getData();\n      }).catch(err => {\n        console.log('error en cargar genero');\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      user: JSON.parse(sessionStorage.getItem('user')),\n      token: sessionStorage.getItem('token'),\n      generos: [],\n      nombre: '',\n      id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.agregarGenero = this.agregarGenero.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  setGeneros(res) {\n    console.log(res);\n    this.setState({\n      generos: res\n    });\n  }\n\n  async componentDidMount() {\n    this.getData();\n  } //Borrar Genero\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.agregarGenero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 33\n      }\n    }, \"Ingrese el g\\xE9nero\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese nombre de genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }, \"Agregar Genero\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.eliminarGenero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange2,\n      id: \"exampleFormControlSelect1\",\n      name: \"genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 45\n      }\n    }, \"Seleccione un g\\xE9nero para eliminar\"), this.state.generos.map(ge => /*#__PURE__*/React.createElement(\"option\", {\n      key: ge.id,\n      value: ge._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 49\n      }\n    }, ge.nombre)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 41\n      }\n    }, \"Eliminar Genero\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.modificarGenero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange3,\n      id: \"exampleFormControlSelect1\",\n      name: \"genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 41\n      }\n    }, \"Seleccione un g\\xE9nero para editar\"), this.state.generos.map(ge => /*#__PURE__*/React.createElement(\"option\", {\n      key: ge.id,\n      value: ge._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 49\n      }\n    }, ge.nombre))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 41\n      }\n    }, \"Ingrese el nuevo genero\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese nombre de genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 41\n      }\n    }, \"Actualizar Genero\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }\n    }, this.state.generos.map(gene => /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card col-md-6 offset-md-3 text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 33\n      }\n    }, gene.nombre), /*#__PURE__*/React.createElement(\"h6\", {\n      class: \"card-subtitle mb-2 text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 33\n      }\n    }, gene._id))))));\n  }\n\n}\n\nexport default Generos;","map":{"version":3,"sources":["D:/Documentos/GitHub/bookflix/bookflix/front-end/src/components/VistaAdmin/Generos/GeneroCRUD.js"],"names":["React","Component","axios","generos","cargar","borrar","modificar","Generos","constructor","onInputChange","e","setState","target","name","value","agregarGenero","preventDefault","console","log","state","nombre","token","post","headers","then","res","alert","getData","catch","err","user","get","setGeneros","data","response","onInputChange2","id","eliminarGenero","onInputChange3","modificarGenero","JSON","parse","sessionStorage","getItem","handleChange","bind","componentDidMount","render","map","ge","_id","gene"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from 'axios';\n\n//Probando git 2\n//Probanco cambiosd de git\nconst generos = 'http://localhost:4000/api/generos/';\nconst cargar = 'http://localhost:4000/api/generos/cargar';\nconst borrar = 'http://localhost:4000/api/generos/eliminar/';\nconst modificar = 'http://localhost:4000/api/generos/modificar/';\n\n\nclass Generos extends Component {\n    constructor() {\n        super();\n        this.state = {\n            user: JSON.parse(sessionStorage.getItem('user')),\n            token: sessionStorage.getItem('token'),\n            generos: [],\n            nombre: '',\n            id: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.agregarGenero = this.agregarGenero.bind(this);\n        this.onInputChange = this.onInputChange.bind(this);\n\n    }\n\n\n\n\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({\n            [name]: value\n        }\n\n        );\n    }\n\n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    agregarGenero = async (e) => {\n        e.preventDefault();\n        console.log(this.state.nombre);\n        console.log(this.state.token);\n\n        await axios.post(cargar,\n            { nombre: this.state.nombre },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            console.log('se cargo un genero');\n            alert(res)\n            this.getData();\n        }\n        )\n\n            .catch(err => {\n                console.log('error en cargar genero');\n                alert(err)\n            }\n            );\n\n    };\n\n\n    setGeneros(res) {\n        console.log(res);\n        this.setState({\n            generos: res\n        });\n    }\n\n    getData = async () => {\n        const { user } = this.state.user;\n\n\n        await axios.get(generos, {\n            user: user,\n            headers: { 'xaccess': this.state.token }\n        })\n            .then(res => {\n                this.setGeneros(res.data)\n            })\n            .catch(err => {\n                console.log('lista de generos');\n                console.log(err.response)\n            });\n\n    }\n    async componentDidMount() {\n\n        this.getData();\n    }\n\n\n    //Borrar Genero\n    onInputChange2 = (e) => {\n        console.log('input', e.target.value);\n\n\n        this.setState({\n            id: e.target.value\n\n        });\n\n\n    };\n\n    eliminarGenero = async (e) => {\n        e.preventDefault();\n        await axios.post(borrar,\n            { id: this.state.id },\n            { headers: { 'xaccess': this.state.token } }\n\n\n\n        ).then(res => {\n            console.log('se elimino el genero');\n            console.log(res)\n            this.getData();\n        })\n            .catch(err => {\n                console.log('error en borrar genero');\n                console.log(err)\n            }\n            );\n    };\n\n\n    //Actualizar Genero\n    onInputChange3 = (e) => {\n        console.log('input', e.target.value);\n        this.setState({\n            id: e.target.value\n\n        });\n\n\n    };\n\n    modificarGenero = async (e) => {\n        e.preventDefault();\n\n        await axios.post(modificar ,\n            { nombre: this.state.nombre, \n                id: this.state.id },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            alert(res);\n            this.getData();\n        }\n        )\n\n            .catch(err => {\n                console.log('error en cargar genero');\n                console.log(err)\n            }\n            );\n\n    };\n\n\n    render() {\n        return (\n\n            <div className=\"row\">\n\n                <div className=\"col-md-4\">\n                    <form onSubmit={this.agregarGenero} >\n\n                        <div className=\"col s5\">\n                            <div className=\"form-input-field col s5 bg-dark\">\n                                <label className=\"text-light\">Ingrese el género</label>\n                                <input\n                                    className=\"form-control col s12\"\n                                    id=\"nombre\"\n                                    name=\"nombre\"\n                                    value={this.state.nombre}\n                                    onChange={this.handleChange}\n\n                                    placeholder=\"Ingrese nombre de genero\">\n                                </input>\n                                <button type=\"submit\" className=\"btn btn-success \" >\n                                    Agregar Genero\n                                </button>\n                            </div>\n\n                        </div>\n\n\n                    </form>\n\n\n                    <div className=\"form-autor\" >\n                        <div className=\"form-input-field col s5 bg-dark\">\n                            <div className=\"card card-body text-light bg-dark\">\n\n                                <form onSubmit={this.eliminarGenero}>\n\n\n\n                                    <div className=\"form-group\">\n                                       \n                                        <select className=\"form-control\" onChange={this.onInputChange2} id=\"exampleFormControlSelect1\" name=\"genero\">\n                                            <option selected>Seleccione un género para eliminar</option>\n                                            {this.state.generos.map(ge =>\n                                                <option key={ge.id} value={ge._id} >{ge.nombre}</option>\n                                            )}\n                                        </select>\n                                    </div>\n\n\n\n                                    <div className=\"form-group\">\n                                        <button type=\"submit\" className=\"btn btn-success\" >\n                                            Eliminar Genero\n                                        </button>\n                                    </div>\n\n\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    <div className=\"form-autor\" >\n                        <div className=\"form-input-field col s5 bg-dark\">\n                            <div className=\"card card-body text-light bg-dark\">\n\n                                <form onSubmit={this.modificarGenero}>\n\n\n\n                                    <div className=\"form-group\">\n                                        \n                                        <select className=\"form-control\" onChange={this.onInputChange3} id=\"exampleFormControlSelect1\" name=\"genero\">\n                                        <option selected>Seleccione un género para editar</option>\n                                            {this.state.generos.map(ge =>\n                                                <option key={ge.id} value={ge._id} >{ge.nombre}</option>\n                                            )}\n                                        </select>\n                                        <label className=\"text-light\">Ingrese el nuevo genero</label>\n                                        <input\n                                            className=\"form-control col s12\"\n                                            id=\"nombre\"\n                                            name=\"nombre\"\n                                            value={this.state.nombre}\n                                            onChange={this.handleChange}\n\n                                            placeholder=\"Ingrese nombre de genero\">\n                                        </input>\n                                    </div>\n\n\n\n                                    <div className=\"form-group\">\n                                        <button type=\"submit\" className=\"btn btn-success\" >\n                                            Actualizar Genero\n                                        </button>\n                                    </div>\n\n\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n\n                </div>\n\n\n                <div className=\"col-md-8\">\n                    {this.state.generos.map(gene =>\n                        <div class=\"card col-md-6 offset-md-3 text-light bg-dark\" >\n                            <div class=\"card-body\">\n                                <h5 class=\"card-title\">{gene.nombre}</h5>\n                                <h6 class=\"card-subtitle mb-2 text-muted\">{gene._id}</h6>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        )\n    }\n}\nexport default Generos;"]},"metadata":{},"sourceType":"module"}