{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bookflix\\\\bookflix\\\\front-end\\\\src\\\\components\\\\Home.js\";\nimport React, { Component, useEffect } from 'react';\nimport { BrowserRouter as Router, link, Redirect, Link } from 'react-router-dom';\nimport HomeAdmin from './VistaAdmin/HomeAdmin';\nimport HomeSuscriptor from './VistaSuscriptor/HomeSuscriptor';\nexport default class Home extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: '',\n      token: sessionStorage.getItem('token'),\n      soyAdmin: '' // se debe setear el tipo de usuario\n\n    };\n    this.setSoyAdmin = this.setSoyAdmin.bind(this);\n  }\n\n  async setSoyAdmin() {\n    const {\n      user\n    } = sessionStorage.getItem('user');\n    sessionStorage.setItem('user', JSON.stringify({\n      user\n    }));\n    const soyAdmin = user.email === 'admin@admin.com';\n    this.setState({\n      user,\n      soyAdmin\n    }); /// esto es lo q deberiamos guardar en el atributo soyAdmin de Home\n\n    console.log(this.state.soyAdmin);\n  }\n\n  render() {\n    this.setSoyAdmin();\n    return this.state.token !== null ? // si token es distinto de vacio pregunto por el admin\n    this.state.soyAdmin ? /*#__PURE__*/React.createElement(HomeAdmin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(HomeSuscriptor, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 19\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["D:/Documentos/GitHub/bookflix/bookflix/front-end/src/components/Home.js"],"names":["React","Component","useEffect","BrowserRouter","Router","link","Redirect","Link","HomeAdmin","HomeSuscriptor","Home","constructor","state","user","token","sessionStorage","getItem","soyAdmin","setSoyAdmin","bind","setItem","JSON","stringify","email","setState","console","log","render"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA4BC,SAA5B,QAA4C,OAA5C;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,IAAlC,EAAwCC,QAAxC,EAAkDC,IAAlD,QAA8D,kBAA9D;AAEA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AAGA,eAAe,MAAMC,IAAN,SAAmBT,SAAnB,CAA6B;AAExCU,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,IAAI,EAAE,EADC;AAEPC,MAAAA,KAAK,EAAEC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAFA;AAGPC,MAAAA,QAAQ,EAAC,EAHF,CAIP;;AAJO,KAAX;AAMA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AAEH;;AACD,QAAMD,WAAN,GAAoB;AAChB,UAAM;AAAEL,MAAAA;AAAF,QAAWE,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAjB;AACAD,IAAAA,cAAc,CAACK,OAAf,CAAuB,MAAvB,EAA+BC,IAAI,CAACC,SAAL,CAAgB;AAACT,MAAAA;AAAD,KAAhB,CAA/B;AACA,UAAMI,QAAQ,GAAIJ,IAAI,CAACU,KAAL,KAAe,iBAAjC;AAEA,SAAKC,QAAL,CAAc;AAAEX,MAAAA,IAAF;AAASI,MAAAA;AAAT,KAAd,EALgB,CAMhB;;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAL,CAAWK,QAAvB;AACH;;AAEDU,EAAAA,MAAM,GAAG;AAEL,SAAKT,WAAL;AACA,WACI,KAAKN,KAAL,CAAWE,KAAX,KAAqB,IAArB,GAA6B;AACzB,SAAKF,KAAL,CAAWK,QAAX,gBACM,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADN,gBAEM,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHV,gBAIM,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALV;AAOH;;AAjCuC","sourcesContent":["\r\nimport React, { Component , useEffect} from 'react'\r\nimport { BrowserRouter as Router, link, Redirect, Link } from 'react-router-dom';\r\n\r\nimport HomeAdmin from './VistaAdmin/HomeAdmin';\r\nimport HomeSuscriptor from './VistaSuscriptor/HomeSuscriptor';\r\n\r\n\r\nexport default class Home extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            user: '',\r\n            token: sessionStorage.getItem('token'),\r\n            soyAdmin:''\r\n            // se debe setear el tipo de usuario\r\n        };\r\n        this.setSoyAdmin = this.setSoyAdmin.bind(this)\r\n       \r\n    }  \r\n    async setSoyAdmin() {\r\n        const { user } = sessionStorage.getItem('user');        \r\n        sessionStorage.setItem('user', JSON.stringify( {user} ) );\r\n        const soyAdmin = (user.email === 'admin@admin.com');\r\n\r\n        this.setState({ user , soyAdmin});\r\n        /// esto es lo q deberiamos guardar en el atributo soyAdmin de Home\r\n        console.log(this.state.soyAdmin)\r\n    };\r\n\r\n    render() {\r\n        \r\n        this.setSoyAdmin()\r\n        return (\r\n            this.state.token !== null ?  // si token es distinto de vacio pregunto por el admin\r\n                this.state.soyAdmin \r\n                    ? <HomeAdmin></HomeAdmin> \r\n                    : <HomeSuscriptor></HomeSuscriptor>\r\n                : <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}