{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bookflix\\\\bookflix\\\\front-end\\\\src\\\\components\\\\VistaAdmin\\\\Generos\\\\GeneroCRUD.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport NavegacionAdmin from '../NavegacionAdmin';\nconst generos = 'http://localhost:4000/api/generos/';\nconst cargar = 'http://localhost:4000/api/generos/cargar';\nconst borrar = 'http://localhost:4000/api/generos/eliminar/';\nconst modificar = 'http://localhost:4000/api/generos/modificar/';\n\nclass Generos extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleChange2 = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.agregarGenero = async e => {\n      e.preventDefault();\n      await axios.post(cargar, {\n        nombre: this.state.nombre\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        alert('Se cargó un genero');\n        this.getData();\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.onInputChange2 = e => {\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.eliminarGenero = async e => {\n      e.preventDefault();\n      await axios.post(borrar, {\n        id: this.state.id\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        alert('Genero eliminado');\n        this.getData();\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.onInputChange3 = e => {\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.modificarGenero = async e => {\n      e.preventDefault();\n      await axios.post(modificar, {\n        id: this.state.id,\n        nombre: this.state.nombre2\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.getData();\n        alert(\"Editorial modificada con exito\");\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.state = {\n      user: JSON.parse(sessionStorage.getItem('user')),\n      token: sessionStorage.getItem('token'),\n      generos: [],\n      nombre: '',\n      nombre2: '',\n      id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.agregarGenero = this.agregarEditorial.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n  }\n\n  async getData() {\n    await axios.get(generos, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(res => {\n      this.setState({\n        generos: res.data\n      });\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  async componentDidMount() {\n    await this.getData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavegacionAdmin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.agregarGenero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese g\\xE9nero\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    }, \" Agregar G\\xE9nero \")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.eliminarGenero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange2,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 29\n      }\n    }, \"Seleccione un g\\xE9nero para eliminar\"), this.state.generos.map(ge => /*#__PURE__*/React.createElement(\"option\", {\n      key: ge.id,\n      value: ge._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 37\n      }\n    }, ge.nombre)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, \" Eliminar G\\xE9nero \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.modificarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      required: true,\n      className: \"form-control\",\n      onChange: this.onInputChange3,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }, \"Seleccione un g\\xE9nero para modificar\"), this.state.generos.map(ge => /*#__PURE__*/React.createElement(\"option\", {\n      key: ge.id,\n      value: ge._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 37\n      }\n    }, ge.nombre))), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre2\",\n      name: \"nombre2\",\n      value: this.state.nombre2,\n      onChange: this.handleChange2,\n      required: true,\n      placeholder: \"Ingrese el nuevo g\\xE9nero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 29\n      }\n    }, \"Actualizar G\\xE9nero\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, this.state.generos.map(ge => /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card col-md-6 offset-md-3 text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"card-title\",\n      onChange: this.onInputChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    }, ge.nombre)))))));\n  }\n\n}\n\nexport default Generos;","map":{"version":3,"sources":["D:/Documentos/GitHub/bookflix/bookflix/front-end/src/components/VistaAdmin/Generos/GeneroCRUD.js"],"names":["React","Component","axios","NavegacionAdmin","generos","cargar","borrar","modificar","Generos","constructor","handleChange","e","setState","target","name","value","handleChange2","onInputChange","agregarGenero","preventDefault","post","nombre","state","headers","token","then","res","alert","getData","catch","err","onInputChange2","id","eliminarGenero","onInputChange3","modificarGenero","nombre2","user","JSON","parse","sessionStorage","getItem","bind","agregarEditorial","get","data","componentDidMount","render","map","ge","_id","modificarEditorial"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport NavegacionAdmin from '../NavegacionAdmin'\n\nconst generos = 'http://localhost:4000/api/generos/';\nconst cargar = 'http://localhost:4000/api/generos/cargar';\nconst borrar = 'http://localhost:4000/api/generos/eliminar/';\nconst modificar = 'http://localhost:4000/api/generos/modificar/';\n\n\nclass Generos extends Component {\n    constructor() {\n        super();\n        this.state = {\n            user: JSON.parse(sessionStorage.getItem('user')),\n            token: sessionStorage.getItem('token'),\n            \n            generos: [],\n            nombre: '',\n            nombre2:'',\n            id: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.agregarGenero = this.agregarEditorial.bind(this);\n        this.onInputChange = this.onInputChange.bind(this);\n        \n    }\n\n    handleChange= (e) => {\n        \n        this.setState({\n            [e.target.name]: e.target.value\n        }\n\n        );\n    }\n    handleChange2= (e) => {\n        \n        this.setState({\n            [e.target.name]: e.target.value\n        }\n\n        );\n    }\n    \n\n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    agregarGenero = async (e) => {\n        e.preventDefault();\n\n        await axios.post(cargar,\n            { nombre: this.state.nombre },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            alert('Se cargó un genero');\n            this.getData()\n        })\n\n        .catch(err => {\n            alert(err)\n        } );\n\n    };\n\n    async getData() {\n        await axios.get(generos, \n            { headers: { 'xaccess': this.state.token }\n        })\n            .then(res => {\n                this.setState({\n                    generos: res.data\n                });\n            })\n            .catch(err => {\n                alert(err)\n            });\n\n    }\n    async componentDidMount() {\n        await this.getData();\n    };\n\n    onInputChange2 = (e) => {\n       this.setState({\n            id: e.target.value\n        });\n    };\n\n    eliminarGenero = async (e) => {\n        e.preventDefault();\n\n        await axios.post(borrar ,\n            { id: this.state.id },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            alert('Genero eliminado');\n            this.getData();\n        })\n            .catch(err => {\n                alert(err)\n        });\n    };\n\n    onInputChange3 = (e) => {\n        this.setState({\n            id: e.target.value\n        });\n    };\n\n    modificarGenero = async (e) => {\n        e.preventDefault();\n\n        await axios.post(modificar,\n            { id: this.state.id,\n            nombre: this.state.nombre2 },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            this.getData()\n            alert(\"Editorial modificada con exito\")\n        })\n        .catch(err => {\n            alert(err)\n        });\n\n    };\n\n\n    render() {\n        return (\n            <div><NavegacionAdmin/>\n            <div className=\"row\">\n                \n                <div className=\"form-autor\" >\n                <div className=\"form-input-field col s5 bg-dark\">\n                <div className=\"card card-body text-light bg-dark\">\n\n                    <form onSubmit={this.agregarGenero} >\n                    <div className=\"form-group\">\n                        <div className=\"col s5\">\n                            <div className=\"form-input-field col s5 bg-dark\">\n                               \n                                <input \n                                    className=\"form-control col s12\"\n                                    id=\"nombre\"\n                                    name=\"nombre\"\n                                    value={this.state.nombre}\n                                    onChange={this.handleChange}\n                                    placeholder=\"Ingrese género\"\n                                    required>\n                                </input>\n                                <div className=\"form-group\">\n                                <button type=\"submit\" className=\"btn btn-success \" > Agregar Género </button>\n                                </div>\n                            </div>\n                        </div>\n                        </div>\n                    </form>\n                </div>\n                </div>\n               \n\n                \n                <div className=\"form-input-field col s5 bg-dark\">\n                <div className=\"card card-body text-light bg-dark\">\n\n                    <form onSubmit={this.eliminarGenero}>\n                        <div className=\"form-group\">\n                            \n                            <select className=\"form-control\" onChange={this.onInputChange2} id=\"exampleFormControlSelect1\" name=\"editorial\">\n                            <option selected>Seleccione un género para eliminar</option>\n                                {this.state.generos.map(ge =>\n                                    <option key={ge.id} value={ge._id} >{ge.nombre}</option>\n                                )}\n                            </select>\n                        </div>\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-success\" > Eliminar Género </button>\n                        </div>\n                    </form>\n                </div>\n                </div>\n                \n\n\n                \n                <div className=\"form-input-field col s5 bg-dark\">\n                <div className=\"card card-body text-light bg-dark\">\n\n                    <form onSubmit={this.modificarEditorial}>\n\n                        <div className=\"form-group\">\n                           \n                            <select required className=\"form-control\" onChange={this.onInputChange3} id=\"exampleFormControlSelect1\" name=\"editorial\">\n                            <option selected>Seleccione un género para modificar</option>\n                                {this.state.generos.map(ge =>\n                                    <option key={ge.id} value={ge._id} >{ge.nombre}</option>\n                                )}\n                            </select>\n                            \n                            <input\n                                className=\"form-control col s12\"\n                                id=\"nombre2\"\n                                name=\"nombre2\"\n                                value={this.state.nombre2}\n                                onChange={this.handleChange2}\n                                required\n                                placeholder=\"Ingrese el nuevo género\">\n                            </input>\n                        </div>\n\n\n\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-success\" >\n                                Actualizar Género\n                            </button>\n                        </div>\n\n\n                    </form>\n                </div>\n                \n                </div>\n\n\n                </div>\n\n\n                <div className=\"col-md-8\">\n                    {this.state.generos.map(ge =>\n                        <div class=\"card col-md-6 offset-md-3 text-light bg-dark\" >\n                            <div class=\"card-body\">\n                    \n                                <h5 class=\"card-title\" onChange={this.onInputChange2} >{ge.nombre}</h5>\n                    \n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\nexport default Generos;"]},"metadata":{},"sourceType":"module"}