{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jhon\\\\Desktop\\\\proyectos-IS1\\\\version1.4\\\\bookflix\\\\front-end\\\\src\\\\components\\\\VistaAdmin\\\\Generos\\\\GeneroCRUD.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport NavegacionAdmin from '../NavegacionAdmin';\nconst getGeneros = 'http://localhost:4000/api/generos/';\nconst cargar = 'http://localhost:4000/api/generos/cargar';\nconst borrar = 'http://localhost:4000/api/generos/eliminar/';\nconst modificar = 'http://localhost:4000/api/generos/modificar/';\n\nclass Generos extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: JSON.parse(sessionStorage.getItem('user')),\n      token: sessionStorage.getItem('token'),\n      generos: [],\n      nombre: '',\n      id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.agregarGenero = this.agregarGenero.bind(this);\n    this.eliminarGenero = this.eliminarGenero.bind(this);\n    this.modificarGenero = this.modificarGenero.bind(this);\n    this.getData = this.getData.bind(this);\n    this.onInputChange2 = this.onInputChange2.bind(this);\n    this.onInputChange3 = this.onInputChange3.bind(this);\n  }\n\n  async getData() {\n    await axios.get(getGeneros, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(res => {\n      this.setState({\n        generos: res.data\n      });\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  async componentDidMount() {\n    this.getData();\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async agregarGenero(e) {\n    e.preventDefault();\n    await axios.post(cargar, {\n      nombre: this.state.nombre\n    }, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(this.getData()).catch(err => {\n      alert(err);\n    });\n  }\n\n  //Borrar Genero\n  onInputChange2(e) {\n    this.setState({\n      id: e.target.value\n    });\n  }\n\n  onInputChange3(e) {\n    this.setState({\n      id: e.target.value\n    });\n  }\n\n  async eliminarGenero(e) {\n    e.preventDefault();\n    await axios.post(borrar, {\n      id: this.state.id\n    }, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(res => {\n      alert(res);\n      this.getData();\n    }).catch(err => {\n      alert('error en borrar genero');\n    });\n  }\n\n  async modificarGenero(e) {\n    e.preventDefault();\n    await axios.post(modificar, {\n      nombre: this.state.nombre,\n      id: this.state.id\n    }, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(res => {\n      alert(res);\n      this.getData();\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavegacionAdmin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.agregarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese el nombre del g\\xE9nero\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 33\n      }\n    }, \" Agregar G\\xE9nero \")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.eliminarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange2,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 29\n      }\n    }, \"Seleccione un g\\xE9nero para eliminar\"), this.state.generos.map(genero => /*#__PURE__*/React.createElement(\"option\", {\n      key: genero.id,\n      value: genero._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 37\n      }\n    }, genero.nombre)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, \" Eliminar G\\xE9nero \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.modificarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      required: true,\n      className: \"form-control\",\n      onChange: this.onInputChange3,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }, \"Seleccione un g\\xE9nero para modificar\"), this.state.generos.map(genero => /*#__PURE__*/React.createElement(\"option\", {\n      key: genero.id,\n      value: genero._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 37\n      }\n    }, genero.nombre))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 29\n      }\n    }, \"Ingrese el nuevo g\\xE9nero\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      required: true,\n      placeholder: \"Ingrese el nuevo g\\xE9nero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 29\n      }\n    }, \"Actualizar G\\xE9nero\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, this.state.generos.map(genero => /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card col-md-6 offset-md-3 text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"card-title\",\n      onChange: this.onInputChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    }, genero.nombre)))))));\n  }\n\n}\n\nexport default Generos;","map":{"version":3,"sources":["C:/Users/Jhon/Desktop/proyectos-IS1/version1.4/bookflix/front-end/src/components/VistaAdmin/Generos/GeneroCRUD.js"],"names":["React","Component","axios","NavegacionAdmin","getGeneros","cargar","borrar","modificar","Generos","constructor","state","user","JSON","parse","sessionStorage","getItem","token","generos","nombre","id","handleChange","bind","agregarGenero","eliminarGenero","modificarGenero","getData","onInputChange2","onInputChange3","get","headers","then","res","setState","data","catch","err","alert","componentDidMount","e","name","value","target","preventDefault","post","render","agregarEditorial","eliminarEditorial","map","genero","_id","modificarEditorial"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport NavegacionAdmin from '../NavegacionAdmin'\r\n\r\nconst getGeneros = 'http://localhost:4000/api/generos/';\r\nconst cargar = 'http://localhost:4000/api/generos/cargar';\r\nconst borrar = 'http://localhost:4000/api/generos/eliminar/';\r\nconst modificar = 'http://localhost:4000/api/generos/modificar/';\r\n\r\n\r\nclass Generos extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            user: JSON.parse(sessionStorage.getItem('user')),\r\n            token: sessionStorage.getItem('token'),\r\n            \r\n            generos:[],\r\n            nombre: '',\r\n            id: ''\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.agregarGenero = this.agregarGenero.bind(this);\r\n        this.eliminarGenero = this.eliminarGenero.bind(this);\r\n        this.modificarGenero = this.modificarGenero.bind(this);\r\n        this.getData = this.getData.bind(this);\r\n        this.onInputChange2 = this.onInputChange2.bind(this);\r\n        this.onInputChange3 = this.onInputChange3.bind(this);\r\n    }\r\n\r\n\r\n    async getData(){\r\n        \r\n        await axios.get(getGeneros, {\r\n            \r\n            headers: { 'xaccess': this.state.token }\r\n        })\r\n            .then(res => {\r\n                this.setState({\r\n                    generos: res.data\r\n                });\r\n            })\r\n            .catch(err => {\r\n                alert(err)\r\n            });\r\n\r\n    }\r\n    async componentDidMount() {\r\n\r\n        this.getData();\r\n    }\r\n\r\n    handleChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        }\r\n\r\n        );\r\n    }\r\n\r\n    async agregarGenero(e){\r\n        e.preventDefault();\r\n\r\n        await axios.post(cargar,\r\n            { nombre: this.state.nombre },\r\n            { headers: { 'xaccess': this.state.token } }\r\n\r\n        ).then(\r\n            this.getData()\r\n\r\n        )\r\n\r\n            .catch(err => {\r\n                \r\n                alert(err)\r\n            }\r\n            );\r\n\r\n    };\r\n\r\n\r\n   \r\n\r\n\r\n\r\n    //Borrar Genero\r\n    onInputChange2(e) {\r\n        this.setState({\r\n            id: e.target.value\r\n        });\r\n\r\n    };\r\n    onInputChange3(e){\r\n        this.setState({\r\n            id: e.target.value\r\n        });\r\n    };\r\n    async eliminarGenero(e){\r\n        e.preventDefault();\r\n        await axios.post(borrar,\r\n            { id: this.state.id },\r\n            { headers: { 'xaccess': this.state.token } }\r\n        )\r\n            .then(res => {\r\n                alert(res)\r\n                this.getData();\r\n            })\r\n            .catch(err => {\r\n               alert('error en borrar genero');\r\n            });\r\n    };\r\n\r\n\r\n    \r\n\r\n    async modificarGenero(e){\r\n        e.preventDefault();\r\n\r\n        await axios.post(modificar ,\r\n            { nombre: this.state.nombre, \r\n                id: this.state.id },\r\n            { headers: { 'xaccess': this.state.token } }\r\n\r\n        ).then(res => {\r\n            alert(res);\r\n            this.getData();\r\n        }\r\n        )\r\n\r\n            .catch(err => {\r\n                alert(err)\r\n            }\r\n            );\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div><NavegacionAdmin/>\r\n            <div className=\"row\">\r\n                \r\n                <div className=\"form-autor\" >\r\n                <div className=\"form-input-field col s5 bg-dark\">\r\n                <div className=\"card card-body text-light bg-dark\">\r\n                    <form onSubmit={this.agregarEditorial} >\r\n\r\n                        <div className=\"col s5\">\r\n                            <div className=\"form-input-field col s5 bg-dark\">\r\n                                \r\n                                <input className=\"form-control col s12\"\r\n                                    id=\"nombre\"\r\n                                    name=\"nombre\"\r\n                                    value={this.state.nombre}\r\n                                    onChange={this.handleChange}\r\n                                    placeholder=\"Ingrese el nombre del género\"\r\n                                    required>\r\n                                </input>\r\n\r\n                                <button type=\"submit\" className=\"btn btn-success \" > Agregar Género </button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                </div>\r\n               \r\n\r\n                \r\n                <div className=\"form-input-field col s5 bg-dark\">\r\n                <div className=\"card card-body text-light bg-dark\">\r\n\r\n                    <form onSubmit={this.eliminarEditorial}>\r\n                        <div className=\"form-group\">\r\n                            \r\n                            <select className=\"form-control\" onChange={this.onInputChange2} id=\"exampleFormControlSelect1\" name=\"editorial\">\r\n                            <option selected>Seleccione un género para eliminar</option>\r\n                                {this.state.generos.map(genero =>\r\n                                    <option key={genero.id} value={genero._id} >{genero.nombre}</option>\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btn btn-success\" > Eliminar Género </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                </div>\r\n                \r\n\r\n\r\n                \r\n                <div className=\"form-input-field col s5 bg-dark\">\r\n                <div className=\"card card-body text-light bg-dark\">\r\n\r\n                    <form onSubmit={this.modificarEditorial}>\r\n\r\n                        <div className=\"form-group\">\r\n                           \r\n                            <select required className=\"form-control\" onChange={this.onInputChange3} id=\"exampleFormControlSelect1\" name=\"editorial\">\r\n                            <option selected>Seleccione un género para modificar</option>\r\n                                {this.state.generos.map(genero =>\r\n                                    <option key={genero.id} value={genero._id} >{genero.nombre}</option>\r\n                                )}\r\n                            </select>\r\n                            <label className=\"text-light\">Ingrese el nuevo género</label>\r\n                            <input\r\n                                className=\"form-control col s12\"\r\n                                id=\"nombre\"\r\n                                name=\"nombre\"\r\n                                value={this.state.nombre}\r\n                                onChange={this.handleChange}\r\n                                required\r\n                                placeholder=\"Ingrese el nuevo género\">\r\n                            </input>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btn btn-success\" >\r\n                                Actualizar Género\r\n                            </button>\r\n                        </div>\r\n\r\n\r\n                    </form>\r\n                </div>\r\n                \r\n                </div>\r\n\r\n\r\n                </div>\r\n\r\n\r\n                <div className=\"col-md-8\">\r\n                    {this.state.generos.map(genero =>\r\n                        <div class=\"card col-md-6 offset-md-3 text-light bg-dark\" >\r\n                            <div class=\"card-body\">\r\n                    \r\n                                <h5 class=\"card-title\" onChange={this.onInputChange2} >{genero.nombre}</h5>\r\n                    \r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Generos;"]},"metadata":{},"sourceType":"module"}