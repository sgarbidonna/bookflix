{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bookflix\\\\bookflix\\\\front-end\\\\src\\\\components\\\\VistaAdmin\\\\Editoriales\\\\EditorialCRUD.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst editoriales = 'http://localhost:4000/api/editoriales/';\nconst cargar = 'http://localhost:4000/api/editoriales/cargar';\nconst borrar = 'http://localhost:4000/api/editoriales/eliminar/';\nconst modificar = 'http://localhost:4000/api/editoriales/modificar/';\n\nclass Editorial extends Component {\n  constructor() {\n    super();\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.agregarEditorial = async e => {\n      e.preventDefault();\n      await axios.post(cargar, {\n        nombre: this.state.nombre\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        console.log('se cargo una editorial');\n        console.log(res);\n        this.getData();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.getData = async () => {\n      await axios.get(editoriales, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.setEditoriales(res.data);\n      }).catch(err => {\n        alert(err.response);\n      });\n    };\n\n    this.onInputChange2 = e => {\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.eliminarEditorial = async e => {\n      e.preventDefault();\n      await axios.post(borrar + this.state.id, {\n        id: this.state.id\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        console.log('se elimino el genero');\n        console.log(res);\n        this.getData();\n      }).catch(err => {\n        console.log('error en borrar genero');\n        console.log(err);\n      });\n    };\n\n    this.onInputChange3 = e => {\n      console.log('input', e.target.value);\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.modificarEditorial = async e => {\n      e.preventDefault();\n      await axios.post(modificar + this.state.id, {\n        nombre: this.state.nombre\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.getData();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      user: JSON.parse(sessionStorage.getItem('user')),\n      token: sessionStorage.getItem('token'),\n      editoriales: [],\n      nombre: '',\n      id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.agregarEditorial = this.agregarEditorial.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.setEditoriales = this.setEditoriales.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  setEditoriales(res) {\n    this.setState({\n      editoriales: res\n    });\n  }\n\n  async componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.agregarGenero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 33\n      }\n    }, \"Ingrese la editorial\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese nombre de genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 33\n      }\n    }, \"Agregar Edtorial\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.eliminarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"exampleFormControlSelect1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 41\n      }\n    }, \"Seleccione una editorial para eliminar\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange2,\n      id: \"exampleFormControlSelect1\",\n      name: \"genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 41\n      }\n    }, this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"option\", {\n      key: ed.id,\n      value: ed._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 49\n      }\n    }, ed.nombre)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 41\n      }\n    }, \"Eliminar Edtorial\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.modificarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"exampleFormControlSelect1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 41\n      }\n    }, \"Seleccione una editorial para editar\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange3,\n      id: \"exampleFormControlSelect1\",\n      name: \"genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 41\n      }\n    }, this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"option\", {\n      key: ed.id,\n      value: ed._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 49\n      }\n    }, ed.nombre))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 41\n      }\n    }, \"Ingrese la nueva editorial\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese nombre de la editorial\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 41\n      }\n    }, \"Actualizar Genero\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }\n    }, this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card col-md-6 offset-md-3 text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"card-title\",\n      onChange: this.onInputChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 33\n      }\n    }, ed.nombre))))));\n  }\n\n}\n\nexport default Editorial;","map":{"version":3,"sources":["D:/Documentos/GitHub/bookflix/bookflix/front-end/src/components/VistaAdmin/Editoriales/EditorialCRUD.js"],"names":["React","Component","axios","editoriales","cargar","borrar","modificar","Editorial","constructor","onInputChange","e","setState","target","name","value","agregarEditorial","preventDefault","post","nombre","state","headers","token","then","res","console","log","getData","catch","err","get","setEditoriales","data","alert","response","onInputChange2","id","eliminarEditorial","onInputChange3","modificarEditorial","user","JSON","parse","sessionStorage","getItem","handleChange","bind","componentDidMount","render","agregarGenero","map","ed","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from 'axios';\n\nconst editoriales = 'http://localhost:4000/api/editoriales/';\nconst cargar = 'http://localhost:4000/api/editoriales/cargar';\nconst borrar = 'http://localhost:4000/api/editoriales/eliminar/';\nconst modificar = 'http://localhost:4000/api/editoriales/modificar/';\n\n\nclass Editorial extends Component {\n    constructor() {\n        super();\n        this.state = {\n            user: JSON.parse(sessionStorage.getItem('user')),\n            token: sessionStorage.getItem('token'),\n            \n            editoriales: [],\n            nombre: '',\n            id: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.agregarEditorial = this.agregarEditorial.bind(this);\n        this.onInputChange = this.onInputChange.bind(this);\n        this.setEditoriales = this.setEditoriales.bind(this);\n    }\n\n\n\n\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({\n            [name]: value\n        }\n\n        );\n    }\n\n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    agregarEditorial = async (e) => {\n        e.preventDefault();\n       \n\n        await axios.post(cargar,\n            { nombre: this.state.nombre },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            console.log('se cargo una editorial');\n            console.log(res)\n            this.getData();\n        }\n        )\n\n            .catch(err => {\n                console.log(err)\n            }\n            );\n\n    };\n\n\n    setEditoriales(res) {\n\n        this.setState({\n            editoriales: res\n        });\n    }\n\n    getData = async () => {\n\n        await axios.get(editoriales, {\n            headers: { 'xaccess': this.state.token }\n        })\n            .then(res => {\n                this.setEditoriales(res.data)\n            })\n            .catch(err => {\n                alert(err.response)\n            });\n\n    }\n    async componentDidMount() {\n        this.getData();\n    }\n\n    onInputChange2 = (e) => {\n       this.setState({\n            id: e.target.value\n\n        });\n\n\n    };\n\n    eliminarEditorial = async (e) => {\n        e.preventDefault();\n        await axios.post(borrar + this.state.id,\n            { id: this.state.id },\n            { headers: { 'xaccess': this.state.token } }\n\n\n\n        ).then(res => {\n            console.log('se elimino el genero');\n            console.log(res)\n            this.getData();\n        })\n            .catch(err => {\n                console.log('error en borrar genero');\n                console.log(err)\n            }\n            );\n    };\n\n\n    //Actualizar Genero\n    onInputChange3 = (e) => {\n        console.log('input', e.target.value);\n\n\n        this.setState({\n            id: e.target.value\n\n\n        });\n\n\n    };\n\n    modificarEditorial = async (e) => {\n        e.preventDefault();\n\n        await axios.post(modificar + this.state.id,\n            { nombre: this.state.nombre },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            \n            this.getData();\n        }\n        )\n\n            .catch(err => {\n                console.log(err)\n            }\n            );\n\n    };\n\n\n    render() {\n        return (\n\n            <div className=\"row\">\n\n                <div className=\"col-md-4\">\n                    <form onSubmit={this.agregarGenero} >\n\n                        <div className=\"col s5\">\n                            <div className=\"form-input-field col s5 bg-dark\">\n                                <label className=\"text-light\">Ingrese la editorial</label>\n                                <input\n                                    className=\"form-control col s12\"\n                                    id=\"nombre\"\n                                    name=\"nombre\"\n                                    value={this.state.nombre}\n                                    onChange={this.handleChange}\n\n                                    placeholder=\"Ingrese nombre de genero\">\n                                </input>\n                                <button type=\"submit\" className=\"btn btn-success \" >\n                                    Agregar Edtorial\n                                </button>\n                            </div>\n\n                        </div>\n\n\n                    </form>\n\n\n                    <div className=\"form-autor\" >\n                        <div className=\"form-input-field col s5 bg-dark\">\n                            <div className=\"card card-body text-light bg-dark\">\n\n                                <form onSubmit={this.eliminarEditorial}>\n\n\n\n                                    <div className=\"form-group\">\n                                        <label for=\"exampleFormControlSelect1\">Seleccione una editorial para eliminar</label>\n                                        <select className=\"form-control\" onChange={this.onInputChange2} id=\"exampleFormControlSelect1\" name=\"genero\">\n\n                                            {this.state.editoriales.map(ed =>\n                                                <option key={ed.id} value={ed._id} >{ed.nombre}</option>\n                                            )}\n                                        </select>\n                                    </div>\n\n\n\n                                    <div className=\"form-group\">\n                                        <button type=\"submit\" className=\"btn btn-success\" >\n                                            Eliminar Edtorial\n                                        </button>\n                                    </div>\n\n\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    <div className=\"form-autor\" >\n                        <div className=\"form-input-field col s5 bg-dark\">\n                            <div className=\"card card-body text-light bg-dark\">\n\n                                <form onSubmit={this.modificarEditorial}>\n\n\n\n                                    <div className=\"form-group\">\n                                        <label for=\"exampleFormControlSelect1\">Seleccione una editorial para editar</label>\n                                        <select className=\"form-control\" onChange={this.onInputChange3} id=\"exampleFormControlSelect1\" name=\"genero\">\n\n                                            {this.state.editoriales.map(ed =>\n                                                <option key={ed.id} value={ed._id} >{ed.nombre}</option>\n                                            )}\n                                        </select>\n                                        <label className=\"text-light\">Ingrese la nueva editorial</label>\n                                        <input\n                                            className=\"form-control col s12\"\n                                            id=\"nombre\"\n                                            name=\"nombre\"\n                                            value={this.state.nombre}\n                                            onChange={this.handleChange}\n\n                                            placeholder=\"Ingrese nombre de la editorial\">\n                                        </input>\n                                    </div>\n\n\n\n                                    <div className=\"form-group\">\n                                        <button type=\"submit\" className=\"btn btn-success\" >\n                                            Actualizar Genero\n                                        </button>\n                                    </div>\n\n\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n\n                </div>\n\n\n                <div className=\"col-md-8\">\n                    {this.state.editoriales.map(ed =>\n                        <div class=\"card col-md-6 offset-md-3 text-light bg-dark\" >\n                            <div class=\"card-body\">\n                    \n                                <h5 class=\"card-title\" onChange={this.onInputChange2} >{ed.nombre}</h5>\n                    \n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        )\n    }\n}\nexport default Editorial;"]},"metadata":{},"sourceType":"module"}