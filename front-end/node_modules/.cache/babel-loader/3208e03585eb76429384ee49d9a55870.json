{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bookflix\\\\bookflix\\\\front-end\\\\src\\\\components\\\\VistaAdmin\\\\Editoriales\\\\EditorialCRUD.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst editoriales = 'http://localhost:4000/api/editoriales/';\nconst cargar = 'http://localhost:4000/api/editoriales/cargar';\nconst borrar = 'http://localhost:4000/api/editoriales/eliminar/';\nconst modificar = 'http://localhost:4000/api/editoriales/modificar/';\n\nclass Editorial extends Component {\n  constructor() {\n    super();\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.agregarEditorial = async e => {\n      e.preventDefault();\n      await axios.post(cargar, {\n        nombre: this.state.nombre\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        console.log('se cargo una editorial');\n        console.log(res);\n        this.getData();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onInputChange2 = e => {\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.eliminarEditorial = async e => {\n      e.preventDefault();\n      await axios.post(borrar + this.state.id, {\n        id: this.state.id\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        console.log('se eliminÃ³ la editorial');\n        console.log(res);\n        this.getData();\n      }).catch(err => {\n        alert(err.response);\n      });\n    };\n\n    this.onInputChange3 = e => {\n      this.setState({\n        id: e.target.value\n      });\n    };\n\n    this.modificarEditorial = async e => {\n      e.preventDefault();\n      await axios.post(modificar + this.state.id, {\n        nombre: this.state.nombre\n      }, {\n        headers: {\n          'xaccess': this.state.token\n        }\n      }).then(res => {\n        this.getData();\n      }).catch(err => {\n        alert(err.response);\n      });\n    };\n\n    this.state = {\n      user: JSON.parse(sessionStorage.getItem('user')),\n      token: sessionStorage.getItem('token'),\n      editoriales: [],\n      nombre: '',\n      id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.agregarEditorial = this.agregarEditorial.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.setEditoriales = this.setEditoriales.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  setEditoriales(res) {\n    this.setState({\n      editoriales: res\n    });\n  }\n\n  async componentDidMount() {\n    await axios.get(editoriales, {\n      headers: {\n        'xaccess': this.state.token\n      }\n    }).then(res => {\n      this.setEditoriales(res.data);\n    }).catch(err => {\n      alert(err.response);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-autor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.agregarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input-field col s5 bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, \"Ingrese la editorial\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese el nombre de la editorial\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 33\n      }\n    }, \" Agregar Edtorial \")))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.eliminarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"exampleFormControlSelect1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, \"Seleccione una editorial para eliminar\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange2,\n      id: \"exampleFormControlSelect1\",\n      name: \"genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    }, this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"option\", {\n      key: ed.id,\n      value: ed._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    }, ed.nombre)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 29\n      }\n    }, \"Eliminar Edtorial\"))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.modificarEditorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"exampleFormControlSelect1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 29\n      }\n    }, \"Seleccione una editorial para editar\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange3,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }, this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"option\", {\n      key: ed.id,\n      value: ed._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    }, ed.nombre))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }, \"Ingrese la nueva editorial\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control col s12\",\n      id: \"nombre\",\n      name: \"nombre\",\n      value: this.state.nombre,\n      onChange: this.handleChange,\n      placeholder: \"Ingrese el nombre de la editorial\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, \"Actualizar Editorial\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }\n    }, this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card col-md-6 offset-md-3 text-light bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"card-title\",\n      onChange: this.onInputChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 33\n      }\n    }, ed.nombre), /*#__PURE__*/React.createElement(\"h6\", {\n      class: \"card-subtitle mb-2 text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 33\n      }\n    }, ed._id), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 33\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-danger\",\n      onClick: this.eliminarEditorial(e),\n      \"data-toggle\": \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 41\n      }\n    }, \" X \"))))))));\n  }\n\n}\n\nexport default Editorial;","map":{"version":3,"sources":["D:/Documentos/GitHub/bookflix/bookflix/front-end/src/components/VistaAdmin/Editoriales/EditorialCRUD.js"],"names":["React","Component","axios","editoriales","cargar","borrar","modificar","Editorial","constructor","onInputChange","e","setState","target","name","value","agregarEditorial","preventDefault","post","nombre","state","headers","token","then","res","console","log","getData","catch","err","onInputChange2","id","eliminarEditorial","alert","response","onInputChange3","modificarEditorial","user","JSON","parse","sessionStorage","getItem","handleChange","bind","setEditoriales","componentDidMount","get","data","render","map","ed","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from 'axios';\n\nconst editoriales = 'http://localhost:4000/api/editoriales/';\nconst cargar = 'http://localhost:4000/api/editoriales/cargar';\nconst borrar = 'http://localhost:4000/api/editoriales/eliminar/';\nconst modificar = 'http://localhost:4000/api/editoriales/modificar/';\n\n\nclass Editorial extends Component {\n    constructor() {\n        super();\n        this.state = {\n            user: JSON.parse(sessionStorage.getItem('user')),\n            token: sessionStorage.getItem('token'),\n            \n            editoriales: [],\n            nombre: '',\n            id: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.agregarEditorial = this.agregarEditorial.bind(this);\n        this.onInputChange = this.onInputChange.bind(this);\n        this.setEditoriales = this.setEditoriales.bind(this);\n    }\n\n\n\n\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({\n            [name]: value\n        }\n\n        );\n    }\n\n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    agregarEditorial = async (e) => {\n        e.preventDefault();\n\n        await axios.post(cargar,\n            { nombre: this.state.nombre },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            console.log('se cargo una editorial');\n            console.log(res)\n            this.getData()})\n\n        .catch(err => {\n            console.log(err)\n        } );\n\n    };\n\n\n    setEditoriales(res) {\n        this.setState({\n            editoriales: res\n        });\n    }\n\n    async componentDidMount() {\n        await axios.get(editoriales, {\n            headers: { 'xaccess': this.state.token }\n        })\n            .then(res => {\n                this.setEditoriales(res.data)\n            })\n            .catch(err => {\n                alert(err.response)\n            });\n    }\n\n    onInputChange2 = (e) => {\n       this.setState({\n            id: e.target.value\n\n        });\n\n\n    };\n\n    eliminarEditorial = async (e) => {\n        e.preventDefault();\n\n        await axios.post(borrar + this.state.id,\n            { id: this.state.id },\n            { headers: { 'xaccess': this.state.token } }\n\n\n\n        ).then(res => {\n            console.log('se eliminÃ³ la editorial');\n            console.log(res)\n            this.getData();\n        })\n            .catch(err => {\n                alert(err.response)\n            }\n            );\n    };\n\n    onInputChange3 = (e) => {\n        this.setState({\n            id: e.target.value\n\n        });\n\n    };\n\n    modificarEditorial = async (e) => {\n        e.preventDefault();\n\n        await axios.post(modificar + this.state.id,\n            { nombre: this.state.nombre },\n            { headers: { 'xaccess': this.state.token } }\n\n        ).then(res => {\n            this.getData();\n        }\n        )\n\n        .catch(err => {\n            alert(err.response)\n        });\n\n    };\n\n\n    render() {\n        return (\n\n            <div className=\"row\">\n\n                <div className=\"col-md-4\">\n\n                    <div className=\"form-autor\" >\n                    <div className=\"form-input-field col s5 bg-dark\">\n                    <div className=\"card card-body text-light bg-dark\">\n\n                    <form onSubmit={this.agregarEditorial} >\n                        <div className=\"col s5\">\n                            <div className=\"form-input-field col s5 bg-dark\">\n                                <label className=\"text-light\">Ingrese la editorial</label>\n                                <input className=\"form-control col s12\"\n                                    id=\"nombre\"\n                                    name=\"nombre\"\n                                    value={this.state.nombre}\n                                    onChange={this.handleChange}\n                                    placeholder=\"Ingrese el nombre de la editorial\"\n                                    required>\n                                </input>\n\n                                <button type=\"submit\" className=\"btn btn-success \" > Agregar Edtorial </button>\n                            </div>\n                        </div>\n                    </form>\n                                       \n                    \n                    <form onSubmit={this.eliminarEditorial}>\n                        <div className=\"form-group\">\n                            <label for=\"exampleFormControlSelect1\">Seleccione una editorial para eliminar</label>\n                            <select className=\"form-control\" onChange={this.onInputChange2} id=\"exampleFormControlSelect1\" name=\"genero\">\n\n                                {this.state.editoriales.map(ed =>\n                                    <option key={ed.id} value={ed._id} >{ed.nombre}</option>\n                                )}\n\n                            </select>\n                        </div>\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-success\" >\n                                Eliminar Edtorial\n                            </button>\n                        </div>\n                    </form>\n                    \n            \n\n                    <form onSubmit={this.modificarEditorial}>\n                        <div className=\"form-group\">\n                            <label for=\"exampleFormControlSelect1\">Seleccione una editorial para editar</label>\n                            <select className=\"form-control\" onChange={this.onInputChange3} id=\"exampleFormControlSelect1\" name=\"editorial\" required>\n                                \n                                {this.state.editoriales.map(ed =>\n                                    <option key={ed.id} value={ed._id} >{ed.nombre}</option>\n                                )}\n\n                            </select>\n                            <label className=\"text-light\">Ingrese la nueva editorial</label>\n                            <input\n                                className=\"form-control col s12\"\n                                id=\"nombre\"\n                                name=\"nombre\"\n                                value={this.state.nombre}\n                                onChange={this.handleChange}\n                                placeholder=\"Ingrese el nombre de la editorial\"\n                                required>\n                            </input>\n                        </div>\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-success\" >\n                                Actualizar Editorial\n                            </button>\n                        </div>\n                    </form>\n                     \n                </div>\n                </div>\n                </div>\n\n                <div className=\"col-md-8\">\n                    {this.state.editoriales.map(ed =>\n\n                        <div class=\"card col-md-6 offset-md-3 text-light bg-dark\" >\n                            <div class=\"card-body\">\n                    \n                                <h5 class=\"card-title\" onChange={this.onInputChange2} >{ed.nombre}</h5>\n                                <h6 class=\"card-subtitle mb-2 text-muted\">{ed._id}</h6>\n                                <label> <button type=\"button\" class=\"btn btn-outline-danger\"  onClick={this.eliminarEditorial(e)} data-toggle=\"button\" > X </button></label>\n                            </div>\n                        </div>\n                    )}\n\n                   \n\n\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\nexport default Editorial;"]},"metadata":{},"sourceType":"module"}